{"version":3,"sources":["webpack/bootstrap 87589a91589903edd82b","./js/main.js","./js/snake-view.js","./js/board.js","./js/snake.js","./js/app_config.js","./vendor/keymaster.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;ACLD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACpFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrEA,qC;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7FA;;AAEA;;AAEA;AACA;;;;;;;ACLA;AACA;AACA;;AAEA,CAAC;AACD;AACA,kBAAkB;AAClB,aAAa,6CAA6C;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA,UAAU,KAAK;;AAEf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,eAAe,2BAA2B;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4EAA4E;AACvG;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,eAAe,yBAAyB;AACxC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B;AAC3B,sBAAsB;;AAEtB;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gDAAgD,uBAAuB;AACvE;;AAEA;AACA,iDAAiD,kBAAkB,EAAE;AACrE;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 87589a91589903edd82b","var View = require(\"./snake-view\");\n\n$(function(){\n  var rootEl = $(\".board\");\n  var view = new View(rootEl);\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/main.js\n// module id = 0\n// module chunks = 0","var Board = require(\"./board\");\nvar key = require(\"../vendor/keymaster\");\n\nfunction View($el){\n  this.$el = $el;\n  this.board = new Board(60);\n  this.snake = this.board.snake;\n  this.setupBoard();\n  this.setKeyBindings();\n  this.startGame();\n}\n\nView.prototype.setupBoard = function () {\n  for (var i = 0; i < this.board.bound; i++){\n    var $ul = $(\"<ul>\");\n    $ul.addClass(\"group\");\n    $ul.attr(\"row-num\", i);\n    for (var j = 0; j < this.board.bound; j++){\n      var $li = $(\"<li>\");\n      $li.attr(\"pos\", [i,j]);\n      if (this.snake.segmentsInclude([i,j]))\n        $li.addClass(\"snake\");\n      $ul.append($li);\n    }\n\n    this.$el.append($ul);\n  }\n};\n\nView.prototype.render = function () {\n  var headPos = this.snake.head();\n  var oldTail = this.snake.oldTail;\n  var apples = this.board.apples;\n  var oldApples = this.board.oldApples;\n\n  $(\"li[pos='\" + headPos + \"']\").addClass(\"snake\");\n  if (oldTail){\n    $(\"li[pos='\" + oldTail + \"']\").removeClass(\"snake\");\n  }\n  apples.forEach(function (apple){\n    $(\"li[pos='\" + apple + \"']\").addClass(\"apple\");\n  });\n  oldApples.forEach(function (apple){\n    $(\"li[pos='\" + apple + \"']\").removeClass(\"apple\");\n  });\n  $(\"li[pos='\" + this.board.superApple + \"']\").addClass(\"super-apple\");\n  $(\"li[pos='\" + this.board.oldSuperApple + \"']\").removeClass(\"super-apple\");\n\n};\n\nView.prototype.startGame = function () {\n  var that = this;\n  var animation = setInterval(function(){\n    that.snake.move();\n    that.board.registerFrame();\n    that.checkOver(animation);\n    that.render();\n  }, 20);\n};\n\nView.prototype.setKeyBindings = function () {\n  var that = this;\n  key('left', function(){\n    that.snake.turn('w');\n  });\n  key('right', function(){\n    that.snake.turn('e');\n  });\n  key('up', function(){\n    that.snake.turn('n');\n  });\n  key('down', function(){\n    that.snake.turn('s');\n  });\n};\n\nView.prototype.checkOver = function (animation) {\n  if (this.board.isOver()){\n    clearInterval(animation);\n    alert(\"You Lose!\");\n  }\n};\n\n\nmodule.exports = View;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/snake-view.js\n// module id = 1\n// module chunks = 0","var Snake = require(\"./snake\");\n\nfunction Board(bound){\n  this.snake = new Snake();\n  this.bound = bound;\n  this.maxApples = 20;\n  this.apples = [];\n  this.superApple = [];\n  this.oldApples = [];\n  this.placeApples();\n  this.frameCount = 0;\n}\n\nBoard.prototype.placeApples = function () {\n  while (this.apples.length < this.maxApples){\n    this.apples.push(this.generateRandPos());\n  }\n\n};\n\nBoard.prototype.placeSuperApple = function(){\n  this.oldSuperApple = this.superApple;\n  this.superApple = this.generateRandPos();\n};\n\nBoard.prototype.placePowerUps = function () {\n  this.placeApples();\n\n  if ((this.frameCount >= 489)) {\n    this.placeSuperApple();\n  }\n};\n\n// track frame count, register powerups,\nBoard.prototype.registerFrame = function () {\n  if (this.frameCount >= 491){\n    this.frameCount = 0;\n  }\n  this.oldApples = [];\n  for (var i = 0; i < this.apples.length; i++){\n\n    if (this.snake.equals(this.snake.head(), this.apples[i])){\n      this.snake.grow(3);\n      this.oldApples.push(this.apples.splice(i, 1));\n    }\n  }\n  if (this.snake.equals(this.snake.head(), this.superApple)){\n    this.snake.grow(10);\n    this.oldSuperApple = this.superApple;\n  }\n  this.placePowerUps();\n  this.frameCount += 1;\n};\n\nBoard.prototype.isOver = function () {\n  return (this.snake.isCollided() || this.edgeCollision());\n};\n\nBoard.prototype.edgeCollision = function(){\n  var head = this.snake.head();\n  return (head[0] < 0 || head[1] < 0) ||\n    (head[0] > this.bound || head[1] > this.bound);\n};\n\nBoard.prototype.generateRandPos = function () {\n  var x = Math.floor(Math.random() * this.bound);\n  var y = Math.floor(Math.random() * this.bound);\n  return [x,y];\n};\nmodule.exports = Board;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/board.js\n// module id = 2\n// module chunks = 0","let Config = require (\"./app_config\"); \n\nfunction Snake(){\n  this.DIRS = ['n', 'e', 's', 'w'];\n  this.MOVES = { n: [-1,0], e: [0,1], s: [1,0], w: [0,-1]};\n  this.direction = Config.starting_direction;\n  this.segments = [\n    [5,5],\n    [5,4],\n    [5,3],\n  ];\n  this.oldTail = [0,0];\n  this.unitsToGrow = 0;\n  this.speedMetric = 20; // how many cycles until executeMove\n  this.moveCount = 0;\n}\n\nSnake.prototype.turn = function (dir) {\n  if (this.isOpposite(dir)) return false;\n  this.direction = dir;\n};\n\nSnake.prototype.isOpposite = function (dir) {\n  let thisInd = this.DIRS.indexOf(this.direction);\n  let dirInd = this.DIRS.indexOf(dir);\n  return (thisInd % 2 === dirInd % 2);\n};\n\nSnake.prototype.head = function(){\n  return(this.segments[0]);\n};\n\nSnake.prototype.grow = function (num) {\n  this.unitsToGrow += num;\n};\n\nSnake.prototype.move = function () {\n  if (this.moveCount >= this.speedMetric){\n    this.executeMove();\n    this.moveCount = 0;\n  } else {\n      this.moveCount += 1;\n  }\n};\n\nSnake.prototype.executeMove = function(){\n  let move = this.MOVES[this.direction];\n  let newHead = this.plus(this.head(), move);\n\n  if (this.unitsToGrow > 0){\n    this.oldTail = null;\n    this.unitsToGrow -= 1;\n\n    //updates speed based on snake length\n    if ((this.segments.length % 5 === 0) ){\n      this.speedMetric -= 3;\n    }\n  } else {\n    this.oldTail = this.segments.pop();\n  }\n  this.segments.unshift(newHead);\n\n};\n\nSnake.prototype.isCollided = function () {\n  for (let i = 1; i < this.segments.length; i++){\n    if (this.equals(this.segments[i], this.head())){\n      return true;\n    }\n  }\n  return false;\n};\n\nSnake.prototype.plus = function (pos1, pos2) {\n  return [\n    (pos1[0] + pos2[0]),\n    (pos1[1] + pos2[1])\n  ];\n};\n\nSnake.prototype.equals = function (pos1, pos2) {\n  return (pos1[0] === pos2[0] && pos1[1] === pos2[1]);\n};\n\nSnake.prototype.segmentsInclude = function(pos){\n  for(let i = 0; i < this.segments.length; i++){\n    if (this.equals(this.segments[i], pos)){\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = Snake;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/snake.js\n// module id = 3\n// module chunks = 0","let Config = {\n    \n    starting_direction: 'e'\n\n};\nmodule.exports = Config;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/app_config.js\n// module id = 4\n// module chunks = 0","//     keymaster.js\n//     (c) 2011-2013 Thomas Fuchs\n//     keymaster.js may be freely distributed under the MIT license.\n\n;(function(global){\n  var k,\n    _handlers = {},\n    _mods = { 16: false, 18: false, 17: false, 91: false },\n    _scope = 'all',\n    // modifier keys\n    _MODIFIERS = {\n      '⇧': 16, shift: 16,\n      '⌥': 18, alt: 18, option: 18,\n      '⌃': 17, ctrl: 17, control: 17,\n      '⌘': 91, command: 91\n    },\n    // special keys\n    _MAP = {\n      backspace: 8, tab: 9, clear: 12,\n      enter: 13, 'return': 13,\n      esc: 27, escape: 27, space: 32,\n      left: 37, up: 38,\n      right: 39, down: 40,\n      del: 46, 'delete': 46,\n      home: 36, end: 35,\n      pageup: 33, pagedown: 34,\n      ',': 188, '.': 190, '/': 191,\n      '`': 192, '-': 189, '=': 187,\n      ';': 186, '\\'': 222,\n      '[': 219, ']': 221, '\\\\': 220\n    },\n    code = function(x){\n      return _MAP[x] || x.toUpperCase().charCodeAt(0);\n    },\n    _downKeys = [];\n\n  for(k=1;k<20;k++) _MAP['f'+k] = 111+k;\n\n  // IE doesn't support Array#indexOf, so have a simple replacement\n  function index(array, item){\n    var i = array.length;\n    while(i--) if(array[i]===item) return i;\n    return -1;\n  }\n\n  // for comparing mods before unassignment\n  function compareArray(a1, a2) {\n    if (a1.length != a2.length) return false;\n    for (var i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) return false;\n    }\n    return true;\n  }\n\n  var modifierMap = {\n      16:'shiftKey',\n      18:'altKey',\n      17:'ctrlKey',\n      91:'metaKey'\n  };\n  function updateModifierKey(event) {\n      for(k in _mods) _mods[k] = event[modifierMap[k]];\n  };\n\n  // handle keydown event\n  function dispatch(event) {\n    var key, handler, k, i, modifiersMatch, scope;\n    key = event.keyCode;\n\n    if (index(_downKeys, key) == -1) {\n        _downKeys.push(key);\n    }\n\n    // if a modifier key, set the key.<modifierkeyname> property to true and return\n    if(key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko\n    if(key in _mods) {\n      _mods[key] = true;\n      // 'assignKey' from inside this closure is exported to window.key\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = true;\n      return;\n    }\n    updateModifierKey(event);\n\n    // see if we need to ignore the keypress (filter() can can be overridden)\n    // by default ignore key presses if a select, textarea, or input is focused\n    if(!assignKey.filter.call(this, event)) return;\n\n    // abort if no potentially matching shortcuts found\n    if (!(key in _handlers)) return;\n\n    scope = getScope();\n\n    // for each potential shortcut\n    for (i = 0; i < _handlers[key].length; i++) {\n      handler = _handlers[key][i];\n\n      // see if it's in the current scope\n      if(handler.scope == scope || handler.scope == 'all'){\n        // check if modifiers match if any\n        modifiersMatch = handler.mods.length > 0;\n        for(k in _mods)\n          if((!_mods[k] && index(handler.mods, +k) > -1) ||\n            (_mods[k] && index(handler.mods, +k) == -1)) modifiersMatch = false;\n        // call the handler and stop the event if neccessary\n        if((handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91]) || modifiersMatch){\n          if(handler.method(event, handler)===false){\n            if(event.preventDefault) event.preventDefault();\n              else event.returnValue = false;\n            if(event.stopPropagation) event.stopPropagation();\n            if(event.cancelBubble) event.cancelBubble = true;\n          }\n        }\n      }\n    }\n  };\n\n  // unset modifier keys on keyup\n  function clearModifier(event){\n    var key = event.keyCode, k,\n        i = index(_downKeys, key);\n\n    // remove key from _downKeys\n    if (i >= 0) {\n        _downKeys.splice(i, 1);\n    }\n\n    if(key == 93 || key == 224) key = 91;\n    if(key in _mods) {\n      _mods[key] = false;\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = false;\n    }\n  };\n\n  function resetModifiers() {\n    for(k in _mods) _mods[k] = false;\n    for(k in _MODIFIERS) assignKey[k] = false;\n  };\n\n  // parse and assign shortcut\n  function assignKey(key, scope, method){\n    var keys, mods;\n    keys = getKeys(key);\n    if (method === undefined) {\n      method = scope;\n      scope = 'all';\n    }\n\n    // for each shortcut\n    for (var i = 0; i < keys.length; i++) {\n      // set modifier keys if any\n      mods = [];\n      key = keys[i].split('+');\n      if (key.length > 1){\n        mods = getMods(key);\n        key = [key[key.length-1]];\n      }\n      // convert to keycode and...\n      key = key[0]\n      key = code(key);\n      // ...store handler\n      if (!(key in _handlers)) _handlers[key] = [];\n      _handlers[key].push({ shortcut: keys[i], scope: scope, method: method, key: keys[i], mods: mods });\n    }\n  };\n\n  // unbind all handlers for given key in current scope\n  function unbindKey(key, scope) {\n    var multipleKeys, keys,\n      mods = [],\n      i, j, obj;\n\n    multipleKeys = getKeys(key);\n\n    for (j = 0; j < multipleKeys.length; j++) {\n      keys = multipleKeys[j].split('+');\n\n      if (keys.length > 1) {\n        mods = getMods(keys);\n      }\n\n      key = keys[keys.length - 1];\n      key = code(key);\n\n      if (scope === undefined) {\n        scope = getScope();\n      }\n      if (!_handlers[key]) {\n        return;\n      }\n      for (i = 0; i < _handlers[key].length; i++) {\n        obj = _handlers[key][i];\n        // only clear handlers if correct scope and mods match\n        if (obj.scope === scope && compareArray(obj.mods, mods)) {\n          _handlers[key][i] = {};\n        }\n      }\n    }\n  };\n\n  // Returns true if the key with code 'keyCode' is currently down\n  // Converts strings into key codes.\n  function isPressed(keyCode) {\n      if (typeof(keyCode)=='string') {\n        keyCode = code(keyCode);\n      }\n      return index(_downKeys, keyCode) != -1;\n  }\n\n  function getPressedKeyCodes() {\n      return _downKeys.slice(0);\n  }\n\n  function filter(event){\n    var tagName = (event.target || event.srcElement).tagName;\n    // ignore keypressed in any elements that support keyboard data input\n    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');\n  }\n\n  // initialize key.<modifier> to false\n  for(k in _MODIFIERS) assignKey[k] = false;\n\n  // set current scope (default 'all')\n  function setScope(scope){ _scope = scope || 'all' };\n  function getScope(){ return _scope || 'all' };\n\n  // delete all handlers for a given scope\n  function deleteScope(scope){\n    var key, handlers, i;\n\n    for (key in _handlers) {\n      handlers = _handlers[key];\n      for (i = 0; i < handlers.length; ) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);\n        else i++;\n      }\n    }\n  };\n\n  // abstract key logic for assign and unassign\n  function getKeys(key) {\n    var keys;\n    key = key.replace(/\\s/g, '');\n    keys = key.split(',');\n    if ((keys[keys.length - 1]) == '') {\n      keys[keys.length - 2] += ',';\n    }\n    return keys;\n  }\n\n  // abstract mods logic for assign and unassign\n  function getMods(key) {\n    var mods = key.slice(0, key.length - 1);\n    for (var mi = 0; mi < mods.length; mi++)\n    mods[mi] = _MODIFIERS[mods[mi]];\n    return mods;\n  }\n\n  // cross-browser events\n  function addEvent(object, event, method) {\n    if (object.addEventListener)\n      object.addEventListener(event, method, false);\n    else if(object.attachEvent)\n      object.attachEvent('on'+event, function(){ method(window.event) });\n  };\n\n  // set the handlers globally on document\n  addEvent(document, 'keydown', function(event) { dispatch(event) }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48\n  addEvent(document, 'keyup', clearModifier);\n\n  // reset modifiers to false whenever the window is (re)focused.\n  addEvent(window, 'focus', resetModifiers);\n\n  // store previously defined key\n  var previousKey = global.key;\n\n  // restore previously defined key and return reference to our key object\n  function noConflict() {\n    var k = global.key;\n    global.key = previousKey;\n    return k;\n  }\n\n  // set window.key and window.key.set/get/deleteScope, and the default filter\n  global.key = assignKey;\n  global.key.setScope = setScope;\n  global.key.getScope = getScope;\n  global.key.deleteScope = deleteScope;\n  global.key.filter = filter;\n  global.key.isPressed = isPressed;\n  global.key.getPressedKeyCodes = getPressedKeyCodes;\n  global.key.noConflict = noConflict;\n  global.key.unbind = unbindKey;\n\n  if(typeof module !== 'undefined') module.exports = assignKey;\n\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./vendor/keymaster.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}